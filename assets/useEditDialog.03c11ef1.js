import{p as c,m as g,O as d,M as r}from"./vendor.26126477.js";const p=(l,u)=>{const t=c([]),e=g({current:1,total:0,pageSize:10}),s=c(!1),n=()=>{s.value=!0,l.list({page:e.current,size:e.pageSize,total:e.total,...u}).then(a=>{t.value=a.data,e.current=a.paging.page,e.pageSize=a.paging.size,e.total=a.paging.total,s.value=!1}).catch(a=>{throw s.value=!0,new Error(a)})};return d(n),{data:t,pagination:e,loading:s,fetchData:n,onPageChange:a=>{e.current=a.current,e.pageSize=a.pageSize,n()}}},h=(l,u="")=>{const t=c(!1),e=c(null),s=()=>{t.value=!0},n=o=>{e.value=o.row,t.value=!0},i=async o=>{e.value&&e.value.id?(await l.edit(e.value.id,o),await r.success(`${u} successfully edited`)):(await l.create(o),await r.success(`${u} successfully created`)),a()},a=()=>{t.value=!1,e.value=null};return{showDialog:t,editData:e,handleCreate:s,handleEdit:n,onDialogClose:a,handleConfirm:i}};export{h as a,p as u};
